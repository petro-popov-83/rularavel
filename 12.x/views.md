# Представления {#views}

## Введение {#introduction}

Возвращать длинные HTML‑строки из маршрутов непрактично. Вместо этого
Laravel использует представления, которые хранятся в каталоге
`resources/views`. Представления позволяют разделить логику контроллеров
и отображения и обычно пишутся с использованием шаблонизатора
【22†Blade】. Пример простого шаблона находится в файле
`resources/views/greeting.blade.php`:

```
<!-- greeting.blade.php -->
<html>
    <body>
        <h1>Hello, {{ $name }}</h1>
    </body>
</html>
```

Вернуть это представление можно с помощью хелпера `view('greeting',
['name' => 'James'])`【585140805563028†L302-L313】. Многие разработчики
предпочитают создавать интерфейс на React или Vue. Laravel поддерживает
это через библиотеку Inertia, позволяющую привязать React/Vue‑фронтенд к
Laravel‑бекенду без сложности SPA【585140805563028†L318-L324】. Для быстрого
старта доступны стартовые наборы React и Vue【585140805563028†L326-L327】.

## Создание и рендеринг представлений {#creating-and-rendering-views}

Файлы представлений имеют расширение `.blade.php`. Создать новый
представление можно вручную в `resources/views` или командой:

```
php artisan make:view greeting
```

После создания используйте хелпер `view()` или фасад `View::make()` для
рендеринга, передавая имя шаблона и массив данных【585140805563028†L329-L367】.
Имя шаблона соответствует пути без расширения: `admin.profile` будет
искать файл `resources/views/admin/profile.blade.php`【585140805563028†L375-L384】.

### Вложенные каталоги

Представления могут располагаться в подпапках. В этом случае для их
обращения используется «точечная» нотация. Например, `view('admin.profile')`
вернёт шаблон из `resources/views/admin/profile.blade.php`【585140805563028†L375-L384】.

### Первый доступный шаблон

Если приложение или пакет позволяет переопределять шаблоны, можно
использовать метод `View::first()`, который вернёт первый существующий
шаблон из указанного списка【585140805563028†L388-L403】.

### Проверка существования

Метод `View::exists()` возвращает `true`, если шаблон существует. Это
полезно для условной загрузки представления【585140805563028†L404-L423】.

## Передача данных представлениям {#passing-data-to-views}

Данные передаются в представления через второй аргумент функции `view`
в виде ассоциативного массива: `view('greeting', ['name' => 'Victoria'])`
【585140805563028†L425-L436】. Вместо полного массива можно использовать метод
`with()` для добавления отдельных значений цепочкой:

```
return view('greeting')
    ->with('name', 'Victoria')
    ->with('occupation', 'Astronaut');
```

### Общие данные для всех представлений

Чтобы поделиться данными с каждым шаблоном, зарегистрируйте их в
методе `boot()` сервис‑провайдера через `View::share('key', 'value')`
【585140805563028†L453-L532】.

## Компоненты и создатели представлений {#view-composers}

### Композиторы

View composer – это класс или замыкание, которое выполняется при
рендеринге определённого представления. Они помогают централизовать
логику подготовки данных для нескольких шаблонов【585140805563028†L535-L542】.
Компонент регистрируется методом `View::composer()` в сервис‑провайдере.
Можно использовать класс‑композитор, у которого метод `compose()` получит
объект представления и добавит данные через `$view->with()`【585140805563028†L665-L741】.
В конструктор класса можно внедрять зависимости через контейнер служб【585140805563028†L744-L746】.
Компонозитор можно привязать к нескольким шаблонам или ко всем, используя
массив имён или символ `*`【585140805563028†L747-L795】.

### Создатели

View creator похож на composer, но вызывается сразу после
инициализации шаблона, а не перед рендерингом. Регистрация
производится методом `View::creator()`【585140805563028†L796-L813】.

## Оптимизация представлений {#optimizing-views}

Blade‑шаблоны компилируются по требованию. Laravel автоматически
проверяет наличие и свежесть скомпилированных файлов и при необходимости
перекомпилирует их. Чтобы ускорить развёртывание, можно заранее
скомпилировать все шаблоны командой `php artisan view:cache`【585140805563028†L817-L829】.
Очистить кэш компиляции можно через `php artisan view:clear`【585140805563028†L833-L837】.
