# Внешний интерфейс

- [Введение](#введение)
- [Использование PHP](#using-php)
    - [PHP и Blade](#php-and-blade)
    - [Livewire](#livewire)
    - [Стартовые наборы](#php-starter-kits)
- [Использование React или Vue](#using-react-or-vue)
    - [Инерция](#инерция)
    - [Стартовые наборы](#inertia-starter-kits)
- [Объединение активов](#bundling-assets)

<a name="introduction"></a>
## Введение

Laravel — это серверная среда, предоставляющая все функции, необходимые для создания современных веб-приложений, такие как [маршрутизация](/docs/{{version}}/routing), [проверка](/docs/{{version}}/validation), [кэширование](/docs/{{version}}/cache), [очереди](/docs/{{version}}/queues), [хранилище файлов](/docs/{{version}}/filesystem) и многое другое. Тем не менее, мы считаем, что важно предложить разработчикам прекрасный комплексный опыт, включая мощные подходы для создания внешнего интерфейса вашего приложения.

Существует два основных способа разработки внешнего интерфейса при создании приложения с помощью Laravel, и какой подход вы выберете, зависит от того, хотите ли вы создавать свой внешний интерфейс с использованием PHP или с использованием фреймворков JavaScript, таких как Vue и React. Ниже мы обсудим оба этих варианта, чтобы вы могли принять обоснованное решение относительно наилучшего подхода к разработке внешнего интерфейса для вашего приложения.

<a name="using-php"></a>
## Использование PHP

<a name="php-and-blade"></a>
### PHP и Блейд

Раньше большинство PHP-приложений отображали HTML в браузере, используя простые HTML-шаблоны, перемежающиеся операторами PHP echo, которые отображают данные, полученные из базы данных во время запроса:

```blade
<div>
    <?php foreach ($users as $user): ?>
        Hello, <?php echo $user->name; ?> <br />
    <?php endforeach; ?>
</div>
```

В Laravel этот подход к рендерингу HTML по-прежнему можно реализовать с помощью [views](/docs/{{version}}/views) и [Blade](/docs/{{version}}/blade). Blade — чрезвычайно легкий язык шаблонов, который предоставляет удобный короткий синтаксис для отображения данных, перебора данных и многого другого:

```blade
<div>
    @foreach ($users as $user)
        Hello, {{ $user->name }} <br />
    @endforeach
</div>
```

При создании приложений таким образом отправка форм и другие взаимодействия со страницами обычно получают совершенно новый HTML-документ с сервера, и вся страница повторно отображается браузером. Даже сегодня многие приложения могут идеально подходить для создания интерфейсов таким образом с использованием простых шаблонов Blade.

<a name="растущие-ожидания"></a>
#### Растущие ожидания

Однако по мере того, как ожидания пользователей в отношении веб-приложений стали более зрелыми, многие разработчики обнаружили необходимость создания более динамичных интерфейсов с более совершенным взаимодействием. В свете этого некоторые разработчики решают начать создание внешнего интерфейса своего приложения с использованием фреймворков JavaScript, таких как Vue и React.

Другие, предпочитая использовать тот язык серверной части, который им удобен, разработали решения, которые позволяют создавать современные пользовательские интерфейсы веб-приложений, в то же время в основном используя выбранный ими серверный язык. Например, в экосистеме [Rails](https://rubyonrails.org/) это стимулировало создание таких библиотек, как [Turbo](https://turbo.hotwired.dev/), [Hotwire](https://hotwired.dev/) и [Стимул](https://стимуляция.hotwired.dev/).

В экосистеме Laravel необходимость создания современных динамических интерфейсов с использованием преимущественно PHP привела к созданию [Laravel Livewire](https://livewire.laravel.com) и [Alpine.js](https://alpinejs.dev/).

<a name="livewire"></a>
### Livewire

[Laravel Livewire](https://livewire.laravel.com) — это платформа для создания интерфейсов на базе Laravel, которые кажутся динамичными, современными и живыми, точно так же, как интерфейсы, созданные с использованием современных фреймворков JavaScript, таких как Vue и React.

При использовании Livewire вы будете создавать «компоненты» Livewire, которые отображают дискретную часть вашего пользовательского интерфейса и предоставляют методы и данные, которые можно вызывать и с которыми можно взаимодействовать из внешнего интерфейса вашего приложения. Например, простой компонент «Счетчик» может выглядеть следующим образом:

```php
<?php

namespace App\Http\Livewire;

use Livewire\Component;

class Counter extends Component
{
    public $count = 0;

    public function increment()
    {
        $this->count++;
    }

    public function render()
    {
        return view('livewire.counter');
    }
}
```

И соответствующий шаблон для счетчика будет записан так:

```blade
<div>
    <button wire:click="increment">+</button>
    <h1>{{ $count }}</h1>
</div>
```

Как видите, Livewire позволяет вам писать новые атрибуты HTML, такие как «wire:click», которые соединяют интерфейс и серверную часть вашего приложения Laravel. Кроме того, вы можете визуализировать текущее состояние вашего компонента, используя простые выражения Blade.

Для многих Livewire произвел революцию в разработке внешнего интерфейса с помощью Laravel, позволив им оставаться в комфортной среде Laravel при создании современных, динамичных веб-приложений. Обычно разработчики, использующие Livewire, также используют [Alpine.js](https://alpinejs.dev/) для «добавления» JavaScript в свой интерфейс только там, где это необходимо, например, для визуализации диалогового окна.

Если вы новичок в Laravel, мы рекомендуем ознакомиться с основными правилами использования [views](/docs/{{version}}/views) и [Blade](/docs/{{version}}/blade). Затем обратитесь к официальной [документации Laravel Livewire] (https://livewire.laravel.com/docs), чтобы узнать, как вывести свое приложение на новый уровень с помощью интерактивных компонентов Livewire.

<a name="php-starter-kits"></a>
### Стартовые наборы

Если вы хотите создать свой интерфейс с использованием PHP и Livewire, вы можете использовать наш [стартовый комплект Livewire](/docs/{{version}}/starter-kits), чтобы ускорить разработку вашего приложения.

<a name="using-react-or-vue"></a>
## Использование React или Vue

Хотя можно создавать современные интерфейсы с помощью Laravel и Livewire, многие разработчики по-прежнему предпочитают использовать возможности JavaScript-фреймворка, такого как React или Vue. Это позволяет разработчикам воспользоваться богатой экосистемой пакетов и инструментов JavaScript, доступных через NPM.

Однако без дополнительных инструментов сочетание Laravel с React или Vue оставило бы нам необходимость решать множество сложных проблем, таких как маршрутизация на стороне клиента, гидратация данных и аутентификация. Маршрутизация на стороне клиента часто упрощается за счет использования самоуверенных фреймворков React/Vue, таких как [Next](https://nextjs.org/) и [Nuxt](https://nuxt.com/); однако гидратация данных и аутентификация остаются сложными и громоздкими проблемами, которые необходимо решить при объединении серверной инфраструктуры, такой как Laravel, с этими интерфейсными платформами.

Кроме того, разработчикам приходится поддерживать два отдельных репозитория кода, и зачастую им приходится координировать обслуживание, выпуски и развертывания в обоих репозиториях. Хотя эти проблемы не являются непреодолимыми, мы не считаем, что это продуктивный или приятный способ разработки приложений.

<a name="inertia"></a>
### Инерция

К счастью, Laravel предлагает лучшее из обоих миров. [Inertia](https://inertiajs.com) устраняет разрыв между вашим приложением Laravel и вашим современным интерфейсом React или Vue, позволяя вам создавать полноценные современные интерфейсы с использованием React или Vue, одновременно используя маршруты и контроллеры Laravel для маршрутизации, гидратации данных и аутентификации — и все это в одном репозитории кода. При таком подходе вы сможете использовать всю мощь Laravel и React/Vue, не нанося вреда возможностям ни одного из инструментов.

После установки Inertia в ваше приложение Laravel вы будете писать маршруты и контроллеры, как обычно. Однако вместо возврата шаблона Blade с вашего контроллера вы вернете страницу Inertia:

```php
<?php

namespace App\Http\Controllers;

use App\Models\User;
use Inertia\Inertia;
use Inertia\Response;

class UserController extends Controller
{
    /**
     * Show the profile for a given user.
     */
    public function show(string $id): Response
    {
        return Inertia::render('users/show', [
            'user' => User::findOrFail($id)
        ]);
    }
}
```

Страница Inertia соответствует компоненту React или Vue, который обычно хранится в каталоге resources/js/pages вашего приложения. Данные, переданные на страницу с помощью метода Inertia::render, будут использоваться для гидратации «реквизитов» компонента страницы:

```jsx
import Layout from '@/layouts/authenticated';
import { Head } from '@inertiajs/react';

export default function Show({ user }) {
    return (
        <Layout>
            <Head title="Welcome" />
            <h1>Welcome</h1>
            <p>Hello {user.name}, welcome to Inertia.</p>
        </Layout>
    )
}
```

Как видите, Inertia позволяет вам использовать всю мощь React или Vue при создании вашего внешнего интерфейса, обеспечивая при этом легкий мост между вашим бэкэндом на базе Laravel и вашим внешним интерфейсом на основе JavaScript.

#### Серверный рендеринг

Если вы беспокоитесь о погружении в Inertia, поскольку ваше приложение требует рендеринга на стороне сервера, не волнуйтесь. Inertia предлагает [поддержку рендеринга на стороне сервера](https://inertiajs.com/server-side-rendering). А при развертывании вашего приложения через [Laravel Cloud](https://cloud.laravel.com) или [Laravel Forge](https://forge.laravel.com) очень легко убедиться, что процесс рендеринга на стороне сервера Inertia всегда работает.

<a name="inertia-starter-kits"></a>
### Стартовые наборы

Если вы хотите создать свой интерфейс с использованием Inertia и Vue/React, вы можете использовать наши [стартовые наборы приложений React или Vue](/docs/{{version}}/starter-kits), чтобы ускорить разработку вашего приложения. Оба этих стартовых комплекта формируют внутренний и внешний поток аутентификации вашего приложения с помощью Inertia, Vue/React, [Tailwind](https://tailwindcss.com) и [Vite](https://vitejs.dev), чтобы вы могли приступить к реализации своей следующей большой идеи.

<a name="bundling-assets"></a>
## Объединение активов

Независимо от того, решите ли вы разрабатывать свой интерфейс с помощью Blade и Livewire или Vue/React и Inertia, вам, скорее всего, потребуется объединить CSS вашего приложения в готовые к использованию ресурсы. Конечно, если вы решите создать интерфейс своего приложения с помощью Vue или React, вам также необходимо будет объединить ваши компоненты в готовые для браузера ресурсы JavaScript.

По умолчанию Laravel использует [Vite](https://vitejs.dev) для объединения ваших ресурсов. Vite обеспечивает молниеносное время сборки и практически мгновенную горячую замену модулей (HMR) во время локальной разработки. Во всех новых приложениях Laravel, включая те, которые используют наши [стартовые наборы](/docs/{{version}}/starter-kits), вы найдете файл `vite.config.js`, который загружает наш легкий плагин Laravel Vite, который делает Vite приятным для использования с приложениями Laravel.

Самый быстрый способ начать работу с Laravel и Vite – начать разработку приложения с помощью [наших стартовых наборов приложений](/docs/{{version}}/starter-kits), которые ускоряют работу вашего приложения, предоставляя механизмы аутентификации на стороне и на сервере.

> [!ПРИМЕЧАНИЕ]
> Более подробную документацию по использованию Vite с Laravel можно найти в нашей [специальной документации по объединению и компиляции ваших ресурсов](/docs/{{version}}/vite).
